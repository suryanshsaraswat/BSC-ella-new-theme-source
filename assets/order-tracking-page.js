$(document).ready(function(){$(".tracker-button").click(function(){var e=$("#trackingInput").val();/^BSC\d{9}$/.test(e)?($("#loader").show(),$(".number-step").hide(),$.ajax({url:"https://bitools.bombayshavingcompany.com/index.php/authentication/tracking/"+e,type:"GET",success:function(e){$("#loader").hide(),$("#order-track").show();var t=JSON.parse(e),r=t.Ship_Status,a=t.Delivery_Date,d=t.Customer_Name,l=t.Amount,i=t.Estimated_Delivery_Date,s=t.Delivery_Partner,n=t.Tracking_ID,o=t.Order_Name;t.Discount_Used;var u=t.Order_Placed_Date,p=t.Customer_Mobile_Number;t.Customer_Email_Id;var h=t.Order_Prepaid_Cod,c=t.Shipping_Address,m=new Date(u),i=new Date(m);i.setDate(m.getDate()+4);var g=i.toDateString();console.log("Estimated Delivery Date: "+g);var y=new Date(a),v=y.getDate(),D=["January","February","March","April","May","June","July","August","September","October","November","December"][y.getMonth()],f=y.getFullYear();function O(e){if(e>=11&&e<=13)return e+"th";switch(e%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}var b=O(v)+" "+D+" "+f,S=new Date(u),_=S.getDate(),k=["January","February","March","April","May","June","July","August","September","October","November","December"][S.getMonth()],A=S.getFullYear();function C(e){if(e>=11&&e<=13)return e+"th";switch(e%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}var E=O(_)+" "+k+" "+A;if(console.log("Ship Status: "+r),console.log("Delivery Date: "+a),console.log("Customer Name: "+d),console.log("Order Amount: "+l),console.log("Address street"+c.Street),console.log("estimated Delivery Date "+i),console.log("tracking Id "+n),console.log("order Name"+o),console.log("orderPlacedDate"+u),console.log("customer Mobile"+p),console.log("COD or Prepaid:"+h),console.log("shipping address:"+c.Street+","+c.Zipcode),("Delhivery Direct Sur"===s||"Delhivery Surface"===s)&&$("#delivery-partner-logo").html('<h2><img src="https://cdn.shopify.com/s/files/1/0459/6563/9834/files/Delhivery.png?v=1697526138" alt="delivery logo" style="width:30px; height:30px"></h2>'),null===a?$("#delivery-date").html('<p>Order is under processing</p><h3 style="margin-bottom: 8px;">Status</h3><h2>'+r+"</h2>"):$("#delivery-date").html("<h3>Delivered On</h3><h2>"+b+"</h2>"),$("#order-summary").html("<tbody><tr><td>Order Name</td><td>"+o+"</td></tr><tr><td>Order Placed On</td><td>"+E+"</td></tr><tr><td>Order Total</td><td>"+l+"</td></tr><tr><td>Payment Method</td><td>"+h+"</td></tr><tr><td>Shipping Address</td><td>"+c.Street+"</td></tr><tr><td>Contact Details;</td><td>"+p+"</td></tr></tbody>"),$("#delivery_partner").html(s),$("#tracking").html('<p>Tracking ID:<br><span style="font-weight:500; color:blue">'+n+"</span></p>"),$("#delivery_status").html("<p>Status:</p><h2>"+r+"</h2>"),$(".heading-otp").html("<h2>Hi, "+d+"</h2><p>Based on your Order ID/AWB, here are your order details</p>"),"Open"===r||null===r||"OrderConfirmed"===r){var w="Open";$("#est-del-status").html('<p>Estimated date of Delivery: <span class="del-date">'+g+"</span></p>")}else if("Packed"===r){var w="Picked";$("#est-del-status").html('<p>Estimated date of Delivery: <br><span class="del-date">'+g+"</span></p>")}else if("Picked"===r||"Shipped"===r||"InTransit"===r||"LostInTransit"===r){var w="Shipped";$("#est-del-status").html('<p style="margin-left:10px; color:#fff; font-size:15px">Estimated date of Delivery: <span class="del-date">'+g+"</span></p>")}else if("Out Of Delivery"===r)var w="Out Of Delivery";else if("Delivered"===r)var w="Delivered";let I=w;console.log("shipping status found: "+I);let P=["Open","Picked","Shipped","Out Of Delivery","Delivered"].indexOf(I);if(-1!==P){let x=document.getElementById("progress"),M=document.getElementById(I);x.style.width=`${25*P}%`,M.style.backgroundColor="#4CAF50"}},error:function(e,t,r){console.error("AJAX request failed. Status:",t,"Error:",r)}})):$("#trackingError").text("Enter Correct Order ID")})});